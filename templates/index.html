<html>
<head>
	<script type="text/javascript">

		function plot(topx,topy,leftx,lefty,rightx,righty,startx,starty,iter){
			

			var currx = startx;
			var curry = starty;

			canvas = document.getElementById("myCanvas");
			var ctx = canvas.getContext("2d");
			
			for (var i=0;i<iter;i++) {
				r = Math.floor((Math.random() * 6) + 1);
				if (r==1||r==2) 
				{
					res = calcDistance(currx,curry,topx,topy);
					currx = res[0];
					curry = res[1];
					ctx.fillStyle = "#0000FF";
					ctx.fillRect(currx,curry,1,1);					
				}
				else if (r==3||r==4) 
				{
					res = calcDistance(currx,curry,rightx,righty);
					currx = res[0];
					curry = res[1];
					ctx.fillStyle = "#0000FF";
					ctx.fillRect(currx,curry,1,1);					
				}
				else if (r==5||r==6) 
				{
					res = calcDistance(currx,curry,leftx,lefty);
					currx = res[0];
					curry = res[1];
					ctx.fillStyle = "#0000FF";
					ctx.fillRect(currx,curry,1,1);				
				}
			}

			//alert("DONE");

		}

		function calcDistance(x1,y1,x2,y2)
		{
			newX = (x1+x2)/2;
			newY = (y1+y2)/2;
			return [newX,newY];
		}

	</script>
</head>
<body align="center">

<canvas id="myCanvas" width="600" height="600"
style="border:1px solid #c3c3c3;">
Your browser does not support the canvas element.
</canvas>

<script>

var topx = 300;
var topy = 10;
var leftx = 20;
var lefty = 450;
var rightx = 500;
var righty = 500;
//var startx = 200;
//var starty = 200;

var iter = 8000;

var canvas = document.getElementById("myCanvas");
var ctx = canvas.getContext("2d");
ctx.fillStyle = "#FF0000";
ctx.fillRect(topx,topy,5,5);
ctx.fillRect(leftx,lefty,5,5);
ctx.fillRect(rightx,righty,5,5);
ctx.fillStyle = "#00FFFF";
ctx.fillRect({{x}},{{y}},5,5);

plot(topx,topy,leftx,lefty,rightx,righty,{{x}},{{y}},{{iter}});

</script>

</body>
</html>
